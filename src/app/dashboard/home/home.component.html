<div class="container-lg">
	<!-- My attendance for Trainee -->
	<div class="row" *ngIf="(currentUser$ | async).Role.is('Trainee')">
		<div class="col">
			<rd-card [cardTitle]="'My Attendance Today'" [isLoading]="loadingTraineeStatistic$ | async">
				<div class="row">
					<div class="col">
						<b>Secretariat</b>
						<ul>
							<li>In:</li>
							<li>Out:</li>
						</ul>
						<b>Room</b>
						<ul>
							<li>In:</li>
							<li>Out:</li>
						</ul>
						<b>Rest</b>
						<ul>
							<li>In:</li>
							<li>Out:</li>
						</ul>
					</div>
				</div>
			</rd-card>
		</div>
	</div>
	<!-- Trainee Statistic for non-Trainee -->
	<div class="row" *ngIf="(currentUser$ | async).Role.is('Trainee') == false">
		<div class="col">
			<rd-card [cardTitle]="'Trainee Statistic'" [isLoading]="loadingTraineeStatistic$ | async">
				<div class="row mb-2">
					<div class="col-1 col-form-label">
						<b>Phase</b>
					</div>
					<div class="col-3">
						<ng-select
							class="col"
							[items]="phases$ | async"
							[clearable]="false"
							bindLabel="Description"
							[searchable]="false"
							[formControl]="currentPhase"
						></ng-select>
						<!-- NOTE: menggunakan ngModel kadang" akan muncul selected yg kosong
              karena ngModel ke-trigger duluan sebelum [items] ada -->

						<!-- [ngModel]="currentPhase$ | async"
							(change)="currentPhase$.next($event)" -->
					</div>
				</div>
				<div class="row px-3">
					<table class="mr-2" *ngFor="let stat of statistics$ | async">
						<thead>
							<tr>
								<td>{{ stat.Type }}</td>
								<td class="text-right">#</td>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let data of stat.Detail">
								<td>{{ data.Description }}</td>
								<td class="text-right">{{ data.Count }}</td>
							</tr>
						</tbody>
						<tfoot>
							<tr>
								<td>Total</td>
								<td class="text-right">{{ stat.Total }}</td>
							</tr>
						</tfoot>
					</table>
				</div>
			</rd-card>
		</div>
	</div>
	<!-- Announcement for all -->
	<div class="row">
		<div class="col">
			<rd-card [cardTitle]="'Announcements'" [isLoading]="loadingAnnouncements$ | async">
				<div class="row v-list-m-6 v-list-bordered">
					<div class="row" *ngFor="let msg of announcements$ | async">
						<div class="col">
							<h4>{{ msg.Title }}</h4>
							<div [innerHTML]="msg.contentAndAttachmentHTML"></div>
							<!-- <p *ngIf="msg.HasFile">
                <a [title]="'Download ' + msg.FileName" [href]="'File.svc/GetFile/' + msg.FileId"
                  >Download Link</a
                >
              </p> -->
						</div>
					</div>
				</div>
			</rd-card>
		</div>
	</div>
</div>
